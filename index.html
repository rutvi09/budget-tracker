<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Budget Buddy â€” Welcome</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Splash -->
  <div id="splash" class="splash">
    <div class="splash-inner">
      <div class="mascot">ğŸ·</div>
      <div class="splash-text">Budget Buddy</div>
    </div>
  </div>

  <main class="intro-wrap">
    <div class="intro-card card">
      <div class="intro-top" style="text-align:center">
        <div class="mascot-large">ğŸ·</div>
        <h1 class="hook-line">Track Your Money. Control Your Future.</h1>
      </div>

      <div class="form-row" style="margin-top:18px">
        <label for="initial-currency">Choose display currency</label>
        <select id="initial-currency" class="select"></select>
      </div>

      <div class="form-row" style="margin-top:8px">
        <label>Theme</label>
        <div class="theme-choices">
          <button id="theme-light" class="btn small">Light ğŸŒ</button>
          <button id="theme-dark" class="btn small">Dark ğŸŒ™</button>
        </div>
      </div>

      <div style="height:12px;"></div>
      <div class="form-row">
        <button id="start-app" class="btn primary large">Start Tracking</button>
      </div>
    </div>

    <footer class="footer muted">Made with ğŸ’– â€¢ Peach + Mint Theme</footer>
  </main>

<script>
  const CURRENCIES = {
    "USD":"$ - USD","INR":"â‚¹ - INR","EUR":"â‚¬ - EUR","GBP":"Â£ - GBP","JPY":"Â¥ - JPY",
    "AUD":"A$ - AUD","CAD":"C$ - CAD","CHF":"CHF - CHF","CNY":"Â¥ - CNY","HKD":"HK$ - HKD",
    "SGD":"S$ - SGD","KRW":"â‚© - KRW","AED":"Ø¯.Ø¥ - AED","ZAR":"R - ZAR","PHP":"â‚± - PHP"
  };

  const sel = document.getElementById('initial-currency');
  Object.keys(CURRENCIES).forEach(code=>{
    const opt = document.createElement('option');
    opt.value = code;
    opt.textContent = CURRENCIES[code];
    sel.appendChild(opt);
  });

  // preload saved state
  const savedState = localStorage.getItem('bt_state_v2');
  if(savedState){
    try {
      const st = JSON.parse(savedState);
      if(st.displayCurrency) sel.value = st.displayCurrency;
    } catch(e){}
  }

  document.getElementById('theme-light').addEventListener('click', ()=>{
    localStorage.setItem('bt_initial_theme','light');
    document.body.classList.remove('dark'); highlightThemeButton();
  });
  document.getElementById('theme-dark').addEventListener('click', ()=>{
    localStorage.setItem('bt_initial_theme','dark');
    document.body.classList.add('dark'); highlightThemeButton();
  });

  function highlightThemeButton(){
    const t = localStorage.getItem('bt_initial_theme') || 'light';
    document.getElementById('theme-light').classList.toggle('selected', t==='light');
    document.getElementById('theme-dark').classList.toggle('selected', t==='dark');
  }
  highlightThemeButton();

  document.getElementById('start-app').addEventListener('click', ()=>{
    const currency = sel.value || 'USD';
    localStorage.setItem('bt_initial_displayCurrency', currency);
    const t = localStorage.getItem('bt_initial_theme') || 'light';
    localStorage.setItem('bt_initial_theme', t);
    // small delay for smooth UX
    setTimeout(()=>{ window.location.href = 'tracker.html'; }, 150);
  });

  // splash hide
  window.addEventListener('load', ()=>{
    setTimeout(()=> {
      const s = document.getElementById('splash');
      if(s) s.classList.add('splash-hide');
      setTimeout(()=> s && s.remove(), 700);
    }, 800);
  });
</script>
</body>
</html>